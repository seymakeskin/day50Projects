<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <title>Project 13</title>
</head>

<body>
    <div class="container">
        <h3>Enter all of the choices divided by a comma (',').
            Press enter when you're done</h3>
        <textarea placeholder="Enter choices here..."></textarea>
        <div id="tags">
        </div>
    </div>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
        integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
        crossorigin="anonymous">
        </script>
    <script>
        // tag();
        //function tag(tag) {
        //    var area = $('textarea').val();
        //    var tags = $('#tags')
        //    var split = area.split(",");
        //    jQuery.each(split, function (index, item) {
        //        tags.append("<span class='tag'>"+item+"</span>")
        //    });
        //}
        const area = $('textarea')
        const tags = $('#tags')
      
        area.keydown(function () {
            let value = area.val();
            var split = value.split(",").filter(tag => tag.trim() !== '').map((index, element) => '<span class="tag">' + index + '</span>');
            tags.html(split)
        });

        area.keypress(function (event) {
            var keycode = (event.keyCode ? event.keyCode : event.which);
            if (keycode == '13') {
                const times = 30
                var interval = setInterval(function myStopFunction() {
                    var tagg = $('.tag');
                    var sonuc= tagg[Math.floor(tagg.length * Math.random())];
                    tagg.removeClass('darkbg')
                    $(sonuc).addClass('darkbg');
                    setTimeout(function () {
                      clearInterval(interval)
                    }, 2000);
                }, 200);
            }

        });

    </script>
</body>

</html>